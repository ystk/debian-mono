mono (2.6.7-5) unstable; urgency=low

  [ Zoltan Varga ]
  * [7453b31] Fix a merge problem which broke tailcalls and F# support.
    (closes: #607465)

  [ Rodrigo Kumpera ]
  * [e32c3aa] Check generic instantions for constraint violations.
    (CVE-2010-4254, closes: #608288)
  * [7905343] Fix corlib testsuite crash.
  * [6eb9cab] Handle invalid instantiation of generic methods.
  * [fbba0ca] Disable generic instance verification is security is off.

  [ Mirco Bauer ]
  * [ec09641] Disable the use of shared memory to make Mono reliable
    even when /dev/shm gets exhausted.  (closes: #587948)

 -- Mirco Bauer <meebey@debian.org>  Sun, 09 Jan 2011 19:38:15 +0100

mono (2.6.7-4) unstable; urgency=high

  [ Mirco Bauer ]
  * [63821a1] Added libmono-nunit2.2-cil to conflicts and replaces of
    libmono-cil-dev for smooth upgrade from lenny (closes: #602024)
  * [0089f11] Moved the System.Data.Linq library into libmono-system-
    data-linq2.0-cil to avoid an unneeded dependency chain for most
    applications.
  * [393dc41] Demote libmono-firebirdsql1.7-cil and mono-debugger from
    recommends to suggests if built on Ubuntu.

  [ Paolo Molaro ]
  * [52727f0] Search for dllimported shared libs in the base directory,
    not cwd. * loader.c: we don't search the current directory anymore
    for shared libraries referenced in DllImport attributes, as it has a
    slight security risk. We search in the same directory where the
    referencing image was loaded from, instead.
    (CVE-2010-4159, closes: #605097)

  [ Zoltan Varga ]
  * [f17ab04] Fix stack alignment when resuming from a signal handler in
    the soft debugger.

 -- Mirco Bauer <meebey@debian.org>  Mon, 06 Dec 2010 23:34:16 +0100

mono (2.6.7-3) unstable; urgency=low

  * The "welcome to new java refugees" release

  [ Iain Lane ]
  * [a2781e1] Add an environment variable to control X509 validation
    mode, and set default to no check
  * [a16f93a] Add --no-ext-diff to git diff call of git-test-debian-
    patches

  [ Mirco Bauer ]
  * [cb9c6c2] Fixed manpage name sections. (closes: #595149)

 -- Mirco Bauer <meebey@debian.org>  Thu, 09 Sep 2010 01:09:45 +0200

mono (2.6.7-2) experimental; urgency=low

  [ Mirco Bauer ]
  * [d1bf954] Added missing tasks and targets files for xbuild 3.5
  * [814bfd7] Bumped clilibs of libmono-data-tds{1,2}.0-cil, libmono-
    security2.0-cil, libmono-microsoft-build2.0-cil and libmono-
    debugger-soft0.0-cil
  * [3c1d0ef] Added development symlink for System.Web.Mvc to libmono-
    system-web-mvc1.0-cil

  [ Iain Lane ]
  * [754b410] Revert upstream commit 59db1f55409d80fc93ed, which
    commented out the Requires line in mono.pc.in.

  [ Jo Shields ]
  * [ea1f755] Add full definitions for all AMD64 registers on kFreeBSD.
    This fixes a FTBFS on kFreeBSD-AMD64.

 -- Mirco Bauer <meebey@debian.org>  Tue, 24 Aug 2010 02:26:43 +0200

mono (2.6.7-1) experimental; urgency=low

  [ Mirco Bauer ]
  * The "squeeze-ing the best out of Mono" release
  * [c91fe56] Added git-dch settings
  * [665316e] Imported Upstream version 2.6.7
    + Includes ASP.NET MVC 2.0
  * [1823ffa] Don't let git-import-orig do merges
  * [9b50f29] Implemented tool to test merge all debian patch branches
    against the upstream branch.
  * [d06b9ad] Only merge branches that really begin with
    debian/patches/*
  * [822f606] Added System.Web.Mvc2 to debian/copyright
  * [45d4f69] Added libmono-system-web-mvc2.0-cil package
  * [b9b720e] Fix mono/test test suite compilation.

  [ Andy Stührk ]
  * [f6745b9] XplatUIX11.WorkingArea can segfault if the WM does not
    support _NET_WORKAREA (Closes: #557229)
    (thanks to Brian Pellin and Andy Stührk for the investigation and patch)

 -- Mirco Bauer <meebey@debian.org>  Sat, 07 Aug 2010 00:35:39 +0200

mono (2.6.3-4) experimental; urgency=low

  * Backported fix from upstream SVN revision r158081, which corrects
    xbuild's handling of wildcards with directories. This fixes a bug
    which prevents Pinta 0.4 from being built. Thanks to Ankit Jain
    <jankit@novell.com>

 -- Jo Shields <directhex@apebox.org>  Wed, 07 Jul 2010 10:56:17 +0100

mono (2.6.3-3) experimental; urgency=low

  * git:debian/patches/arm_cpuinfo_parsing:
    + Fix bug in QEMU-friendly ARM CPU capability parsing, by setting
      v7_supported explicitly to FALSE on non-QEMU hardware, unless
      a v7 CPU is detected (previously it was MAYBE, so v7 instructions
      were always generated)

 -- Jo Shields <directhex@apebox.org>  Thu, 01 Jul 2010 00:38:28 +0100

mono (2.6.3-2) experimental; urgency=low

  * git:debian/patches/kfreebsd_support:
    + Ensure all FreeBSD ifdefs also apply to kFreeBSD
    + Use &ctx->uc_mcontext, not &ctx->uc_mcontext.gregs, on FreeBSD kernels
    + Ensure kFreeBSD follows POSIX signal code paths
    + (Closes: #585662)
  * git:debian/patches/fix_GetTypeDescriptor_wrapped_type_call_forwarding_r157626:
    + Backport from upstream SVN repository to fix upstream bug 603060, which
      causes TypeDescriptorProvider to return false values on wrapped types
  * git:debian/patches/insecure_EnableViewStateMac_XSS_CVE-2010-1459:
    + Backport from upstream SVN repository to fix CVE-2010-1459, which
      implies that the default value for EnableViewStateMac can potentially
      allow XSS attacks against ASP.NET sites hosted on Mono
      (Closes: #585440)
  * debian/update-monodoc:
    + Updated script from Iain Lane <laney@ubuntu.com> which no longer fails
      when called using bash rather than dash (Closes: #580665)
  * debian/control:
    + Add a Replaces: on libmono-dev << 2.4.3 (Closes: #582614)
  * debian/control,
    debian/libmono{1,0}.0-cil.install,
    debian/mono-{1,2}.0-service.install:
    + Move mono-service executables' GAC entries to mono-service packages
      where they belong (Closes: #586192)

 -- Jo Shields <directhex@apebox.org>  Tue, 22 Jun 2010 08:53:51 +0100

mono (2.6.3-1) experimental; urgency=low

  * New upstream release (Closes: #572901)
    + Soft debugger
    + Co-routine framework Mono.Tasklets
    + Auto-completion for the csharp shell
    + LINQ to SQL
    + Enhanced XBuild
    + Mono.Simd for AMD64
    + Verifier and Sandbox (used by Moonlight)
    + Debugging support for GDB

  * The "Good bye dpatch, hello git" release
  * debian/control
    debian/rules
    debian/patches/*:
    + Replaced dpatches with git branches.

  * debian/mono-dbg.install:
    + Added mono-gdb.py script for gdb integration
  * debian/control
    debian/libmono-debugger-soft0.0-cil.install:
    + New package for the soft debugger library.
  * debian/libmono-microsoft-build2.0-cil.install:
    + Added new libraries.
  * debian/control
    debian/libmono-c5-1.0-cil.install
    debian/libmono-c5-1.1-cil.install:
    + Renamed the libmono-c5-1.0-cil package to libmono-c5-1.1-cil as the
      assembly version changed.
  * debiab/control
    debian/libmono-tasklets2.0-cil.install:
    + New package for the continuations library.
  * debian/libmono-wcf3.0-cil.install:
    + Added new System.Data.Services library.
    + Updated System.ServiceModel.Web GAC path.
  * debian/mono-devel.install
    debian/mono-devel.manpages:
    + Added pdb2mdb, sqlmetal, svcutil and RabbitMQ.Client.Apigen.exe.
    + Updated mono-xmltool.exe path.
  * debian/control
    debian/libmono-windowsbase3.0-cil.install:
    + New package containing the WindowsBase library which used to be part of
      the mono-uia source package.
  * debian/watch:
    + Tracking latest branch now.
  * debian/copyright:
    + Completly rewritten copyright file in DEP5 format based on
      moonlight 2.0's debian/copyright written by Jo Shields with minor
      modifications.
    + Updated debian/* copyright.
  * debian/rules:
    + Dropped build-arch/indep split as we needed to build 90% of the classlib
      for the test suite anyhow.
    + Bumped clilibs where needed.

 -- Mirco Bauer <meebey@debian.org>  Sun, 06 Jun 2010 17:45:35 +0200

mono (2.4.4~svn151842-2) unstable; urgency=low

  [ Mirco Bauer ]
  * debian/control:
    + Changed section of libmono-dev back to cli-mono.
    + Added misc:Depends to mono-dbg to please lintian.
  * debian/mono-devel.install:
    + Added makecert.
  * mcs/class/System.Web/System.Web.UI.WebControls/TableRow.cs
    mcs/class/System.Web/System.Web.UI.WebControls/TableRowCollection.cs:
    + Reverted dpatch changes that were done accidentally.
  * Cherry-picked debian/patches/fix_csharp_attach_param
    mcs/tools/csharp/repl.cs:
    + Fixed NRE when using the attach parameter of csharp.

  [ Iain Lane ]
  * debian/update-monodoc: Check whether monodoc-browser is configured before
    generating the search index in the trigger. Previously the lack of this
    caused uninstallability due to monodoc not being able to find GTK# in the
    GAC. (Closes: #575803)

  [ Jo Shields ]
  * debian/patches/mono-arm-thumb2-ftbfs.dpatch:
    + Use GCC atomic built-ins to prevent FTBFS on ARM with Thumb2 (Thanks to
      Alexander Sack <asac@ubuntu.com>)
  * debian/patches/mono-thumb2-jit-blx.dpatch:
    + Assorted JIT fixes for ARM (Thanks to Alexander Sack <asac@ubuntu.com>)
  * debian/patches/arm-cpuinfo-parsing.dpatch:
    + Smarter CPU detection, to allow Mono to run properly under QEMU without
      asserting and dying (Thanks to Loïc Minier <loic.minier@ubuntu.com>)

 -- Mirco Bauer <meebey@debian.org>  Sun, 25 Apr 2010 14:56:28 +0200

mono (2.4.4~svn151842-1) unstable; urgency=medium

  [ Jo Shields ]
  * debian/patches/dont_assert_on_empty_DGC_field_r146984.dpatch:
    + Backport fix from upstream which causes IKVM to fail to build
      (Closes: #562393)
  * debian/patches/escape_Lucene.Net_search_string_r148946.dpatch:
    + Backport fix from upsrream which causes Monodoc to crash when
      searching for "()" and other characters (Closes: #516597)

  [ Mirco Bauer ]
  * The "Mono 2.4.4 FREE LUV for squeeze & lucid" release
  * New upstream SVN snapshot of the mono-2-4 branch
    + Fixed assertion failed in fieldref_encode_signature which caused
      SIGABRT. (Closes: #565548)
    + Mono is now DFSG complaint again by default as the binary-only shipped
      files were replaced with source code. Also the non-free XML
      specification files were replaced and thus we can ship the RabbitMQ
      library again.
  * debian/patches/disable_building_convert.exe.dpatch
    debian/patches/disable_building_RabbitMQ.Client.dll.dpatch:
    + Dropped, we can build the RabbitMQ client library and convert.exe again,
      as the source is provided now (see above).
  * debian/fix_large_ranges_in_random_generator_r146995.dpatch:
    + Dropped, already applied upstream.
  * debian/watch:
    + We are only watching the 2.4 series for now (until squeeze is released)
  * debian/control:
    + Added libnunit-cil-dev to Depends of libmono-cil-dev as that one
      contains the symlink to the nunit.pc file which is no longer present in
      libnunit2.4-cil but libnunit-cil-dev.
    + Dropped purpose less libmono-nunit2.4-cil package as libmono-cil-dev
      does the job now.
    + Added conflicts libmono-nunit2.4-cil to libmono-cil-dev for cleaning up.
    + Shortened too long line in the long descroption of libmono-cil-dev.
    + Changed section of libmono-dev to libdevel.
    + Added ${misc:Depends} to Depends of all packages.
    + Bumped Standards-Version to 3.8.4 (no changes needed).
    + Re-added libmono-messaging-rabbitmq2.0-cil and libmono-rabbitmq2.0-cil
      packages.
  * debian/cli.binfmt:
    + Replaced mono-common with mono-runtime. (Closes: #565490)
  * debian/mono-runtime.postinst:
    + Removed obsolete mono-common / mono-jit traces.
  * debian/copyright:
    + Refere to versioned GPL license file.
    + Updated license information of RabbitMQ XML specification files.
    + Added license information of docs/HtmlAgilityPack.

 -- Mirco Bauer <meebey@debian.org>  Wed, 17 Feb 2010 23:17:44 +0100

mono (2.4.3+dfsg-1) unstable; urgency=medium

  [ Jo Shields ]
  * debian/monodoc-base.postinst,
    debian/monodoc-base.triggers,
    debian/monodoc-base.install,
    debian/update-monodoc:
    + Add a trigger to handle installation of documentation into monodoc

  [ Iain Lane ]
  * debian/monodoc-base.postinst: Only update the monodoc index when we need
    to - i.e. when we are being triggered (by a lib installing new docs) or
    upon a new install of monodoc-base (to generate the initial index)

  [ Mirco Bauer ]
  * The "mince pies for all" release
  * New upstream (bugfix) release:
    + New license compiler (lc) tool.
    + Improved memory usage and performance for ASP.NET.
    + Updated xbuild.
    + Many bugfixes.
  * debian/control
    debian/rules
    debian/copyright:
    debian/patches/disable_building_RabbitMQ.Client.dll.dpatch:
    + Dropped the RabbitMQ library with spec sources again, as the
      auto-generated API source files without DFSG-free sources for the
      generator are not good enough. (Closes: #560151)
  * debian/copyright:
    + Updated for the new license compiler tool.
  * debian/rules:
    + Bumped clilibs of libmono-system2.0-cil, libmono-security{1,2}.0-cil,
      libmono-data-tds{1,2}.0-cil and libmono-microsoft-build2.0-cil
      to >= 2.4.3.
  * debian/update-monodoc:
    + Handle search index too.
  * debian/libmono-profiler.install:
    + Install .so symlinks too, bloody pseudo versioned shared libraries.
  * debian/libmono-simd2.0-cil.install:
    + Added missing compile time symlink.
  * debian/control:
    + Promote monodoc-viewer from Recommends to Depends for monodoc-manual.
      (Closes: #551909)
    + Fixed typo in monodoc-base and monodoc-manual package description.
      (Closes: #557355, #557379)
    + Bumped Standards-Version to 3.8.3 (no changes needed)
  * debian/patches/fix_metadata_dup.dpatch
  * debian/patches/fix_gridview_r146128_r146133.dpatch:
    + Dropped, already applied upstream.
  * debian/control:
    debian/libmono-cil-dev.install
    debian/*.install:
    + Added new libmono-cil-dev package which ships now all pkg-config files
      and depends on all Mono CLI library packages.
  * debian/mono-devel.links:
    + Dropped /usr/bin/csc as it was causing a file conflict with the chicken
      compiler from the chicken-bin package. Most source packages were
      transitioned to use /usr/bin/mono-csc or /usr/bin/cli-csc instead.
      (Closes: #509367, #518106)
  * debian/patches/fix_DynamicMethod_restrictedSkipVisibility_r138886.dpatch:
    + Pass restrictedSkipVisibility parameter correctly to the called
      constructor as needed by the DbLinq library. (Closes: #551964)
      (thanks goes to Silviu Paragina for the investigation and the patch)
  * debian/mono-xbuild.install
    debian/man/xbuild.1:
    + Replaced xbuild manpage place holder with new upstream manpage.
  * debian/mono-xbuild.install:
    + Addded new target files.
  * debian/mono-devel.install
    debian/mono-devel.manpages:
    + Added lc tool.
  * debian/libmono-system-web2.0-cil.install:
    + Added new development symlinks.
  * debian/fix_large_ranges_in_random_generator_r146995.dpatch:
    + Fix random numbers in large ranges.

 -- Mirco Bauer <meebey@debian.org>  Mon, 14 Dec 2009 00:01:59 +0100

mono (2.4.2.3+dfsg-3) unstable; urgency=low

  [ Jo Shields ]
  * Add missing Conflicts/Replaces on monodoc-base from pre-Squeeze due
    to monodoc.dll.mdb conflict
  * debian/patches/fix_gridview_r146128_r146133.dpatch:
    + Add fix from Mono SVN for TableRowCollection in ASP.NET

  [ Mirco Bauer ]
  * Added mono-gmcs to mono-csharp-shell dependencies as it links gmcs.exe
    (Closes: #552211)
  * debian/rules:
    + Add dh_makeshlibs call for all remaining libraries. This adds missing
      ldconfig calls to the maintainer scripts for libMonoSupportW.so,
      libMonoPosixHelper.so and libmono-profiler-*.so.
      (Closes: #553008, #553104)
      (Obsoletes NMU by Matt Kraai <kraai@ftbfs.org>, Closes: #556662)

 -- Mirco Bauer <meebey@debian.org>  Tue, 17 Nov 2009 23:26:36 +0100

mono (2.4.2.3+dfsg-2) unstable; urgency=medium

  * debian/control:
    + Add missing cli:Suggests to libmono-bytefx0.7.6.1-cil and
      libmono-bytefx0.7.6.2-cil.
  * debian/rules:
    + Removed mono:upversion and mono:next-version from dh_gencontrol -s
      call as those are unused for arch:any packages.
  * debian/patches/fix_metadata_dup.dpatch:
    + Remove duplicate appdomain.h, fixing FTBFS.
      (thanks to Stefan Siegl for the investigation, Closes: #543010)
  * debian/patches/fix_CreateDelegate_ArgumentException.dpatch:
    + Fixed ArgumentException in System.Delegate.CreateDelegate() which broke
      IronPython 2.6 Beta 2.

 -- Mirco Bauer <meebey@debian.org>  Mon, 07 Sep 2009 22:00:21 +0200

mono (2.4.2.3+dfsg-1) unstable; urgency=low

  * New upstream release:
    + Fixes XML signature HMAC truncation authentication bypass.
      (CVE-2009-0217)
    + Shipping the RabbitMQ.Client library now as the non-free bits were
      removed.
    + Includes ASP.NET MVC.
    + Updated xbuild.
  * debian/patches/disable_unavailable_cpu_optimizations_r133647.dpatch
    debian/patches/fix_disabling_aot_r131940.dpatch
    debian/patches/fix_null_funcptr_marshalling_r127347.dpatch
    debian/patches/fix_ppc_build_using_gcc-4.4_r131472.dpatch
    debian/patches/fix_recursive_unmanaged_types.dpatch
    debian/patches/fix_sparc_support_r134797.dpatch:
    + Dropped, as already applied upstream.
  * debian/rules:
    + Bumped clilibs where needed.
  * debian/rules
    debian/mono-devel.install
    debian/mono-api-diff.cs:
    + As mono-api-diff was dropped from Mono 2.4 and we need it to track API
      changes we bundle it now in the source package.
      (thanks to C.J. Adams-Collier for this)
  * debian/copyright:
    + Updated for ASP.NET MVC.
  * debian/control:
    + Moved libmono-firebirdsql1.7-cil from Depends to Recommends of
      mono-complete, as libfbclient2 as not available on s390.
    + Added libmono-system-web-mvc1.0-cil package.
    + Added libmono-messaging-rabbitmq2.0-cil and libmono-rabbitmq2.0-cil
      package.
  * debian/patches/fix_array_compare.dpatch:
    + Fix in the compiler needed for IronRuby.
      (thanks goes to C.J. Adams-Collier for providing the patch)
  * debian/control
    debian/mono-runtime.install
    debian/libmono-profiler.install:
    + Moved the libmono-profiler-* libraries to the new libmono-profiler
      package, as they pull libmono0 in which is unneeded for normal usage.
  * debian/control
    debian/mono-devel.install
    debian/mono-mcs.install
    debian/mono-gmcs.install:
    + Moved mcs to mono-mcs and gmcs to mono-gmcs from mono-devel, as that
      caused a lot of confusion. (closes: #525279 and #537081)
    + Added mono-csc to mono-devel in preparation to drop csc in the future as
      it conflicts with the chicken compiler, see #509367.

 -- Mirco Bauer <meebey@debian.org>  Thu, 30 Jul 2009 19:35:10 +0200

mono (2.4+dfsg-6) unstable; urgency=low

  * debian/rules:
    + Force pthread for armel as __thread FTBFS.
    + Build Mono.Simd in test target, which hopefully fixes the failing
      mono/mini tests.
  * debian/control:
    + Removed dh_installxsp and monodiet from the package description of
      mono-utils. (Closes: #534906)
    + Bumped Standards-Version to 3.8.2 (no changes needed)

 -- Mirco Bauer <meebey@debian.org>  Sun, 05 Jul 2009 14:44:23 +0200

mono (2.4+dfsg-5) unstable; urgency=low

  * debian/rules:
    + Let the build system decide if sigaltstack() will be used and which TLS
      instead of passing explicitly --with-sigaltstack and --with-tls to
      the ./configure script.
    + Run also the JIT (mono/mini) tests.
  * debian/patches/fix_disabling_aot_r131940.dpatch:
    + Fixes the build of kfreebsd-amd64 and kfreebsd-i386.

 -- Mirco Bauer <meebey@debian.org>  Mon, 22 Jun 2009 00:08:35 +0200

mono (2.4+dfsg-4) unstable; urgency=low

  * debian/rules:
    + Removed the config.make hack as that broke AMD64 builds and instead let
      the ./configure script from the configure-indep target create that file.

 -- Mirco Bauer <meebey@debian.org>  Sun, 14 Jun 2009 16:52:28 +0200 

mono (2.4+dfsg-3) unstable; urgency=low

  * debian/control:
    + Change Section of prj2make-sharp to devel to match archive overrides.
    + Added replaces libmono-cairo1.0-cil to libmono-cairo2.0-cil, as the
      pkg-config file was moved from that. (Closes: #531006)
    + Added conflicts mono-{1,2}.0-runtime to mono-runtime to ensure
      aptitude is proposing a happy upgrade path.
  * debian/libmono-wcf3.0-cil.install:
    + Added missing System.IdentityModel development symlink.
      (Closes: #531496)
  * debian/shlibs.local
    debian/update-shlibs.local.sh:
    + Removed libgda-2 entry for the benefit of dh_clideps not picking that as
      Suggests for libmono-system-data{1,2}.0-cil up. (Closes: #531870)
  * debian/patches/fix_ppc_build_using_gcc-4.4_r131472.dpatch:
    + Fixes the build on PPC when using GCC 4.4.
  * debian/patches/disable_unavailable_cpu_optimizations_r133647.dpatch:
    + Disable CPU optimizations which might be unavailable (like SSE2 on
      Pentium 3).
  * debian/patches/fix_sparc_support_r134797.patch:
    + Fixes the hang for all applications when running on SPARC.
      (Closes: #531566)
  * debian/rules:
    + Implemented test target and run basic runtime tests as part of the build
      if nocheck wasn't passed via DEB_BUILD_OPTIONS.

 -- Mirco Bauer <meebey@debian.org>  Sat, 13 Jun 2009 16:56:43 +0200

mono (2.4+dfsg-2) unstable; urgency=low

  [ Jo Shields ]
  * debian/rules:
    + Implement workaround to force removal of /usr/share/doc symlinks
      on Ubuntu systems when upgrading from pre-2.4 packages
  * debian/control:
    + Add dependency on lsb-release to allow distro detection

  [ Mirco Bauer ]
  * Upload to unstable.
  * debian/update-shlibs.local.sh:
    + Fixed shlibs line of libMonoPosixHelper, was causing incorrect
      dependencies on libmono0 instead of mono-runtime.
    + Added shlibs line for libMonoSupportW.
  * debian/monodoc-base.install:
    + Added missing monodoc development symlink.
  * debian/mono-1.0-devel.install
    debian/mono-2.0-devel.install:
    + Added installutil.exe.
  * debian/mono-csharp-shell.install:
    + Added missing Mono.CSharp development symlink.
  * debian/libmono-messaging2.0-cil.install:
    + Really install library and development symlink of Mono.Messaging.
  * debian/libmono-management2.0-cil.install:
    + Added missing Mono.Management development symlink.
  * debian/mono-devel.install:
    + Install mcs mo-files.

 -- Mirco Bauer <meebey@debian.org>  Sun, 24 May 2009 15:23:14 +0200

mono (2.4+dfsg-1) experimental; urgency=low

  * New upstream release.
    + For release highlights see the NEWS.Debian file
  * debian/NEWS:
    + Updated for Mono 2.4, Mono 2.2 and Mono 2.0.
  * DFSG edition of Mono 2.4 as the source taball contained a binary that is
    not part of the bootstrapping process (docs/AgilityPack.dll) and is CC
    Share-alike 2.5 licensed (non-free). Also it contained non-free
    specification files needed by the RabbitMQ.Client library.
  * debian/README.source:
    + Mention which files we removed and how to create the tarball we use.
    + Document which binaries are required to bootstrap the C# compiler.
  * debian/rules:
    + Made get-orig-source policy conform (by using . as output path).
    + Dropped --with-oprofile from configure call as debian doesn't ship the
      needed header files for it.
    + Pass --with-moonlight=no to configure call as the moon source package
      will ship the assemblies with the release containing Silverlight 2.0
      support.
    + Build MonoGetAssemblyName using gmcs instead of mcs.
    + Don't allow dh_clideps to add mono-runtime dependencies to
      mono-1.0/2.0-gac to prevent circular dependency hell. (Closes: #528090)
    + Added missing non-stamp/files targets to .PHONY.
    + Only pass mono/2.0 to MONO_PATH in RUN_MONO variable, else gmcs.exe
      picks up the 1.0 corlib.
    + Bumped clilibs of libmono-cairo{1.0,2.0}-cil, libmono-data{1.0,2.0}-cil,
      libmono-data-tds{1.0,2.0}-cil, libmono-oracle2.0-cil,
      libmono-posix{1.0,2.0}-cil, libmono-relaxng{1.0,2.0}-cil,
      libmono-system2.0-cil, libmono-system-runtime2.0-cil, libmono-web2.0-cil,
      libmono-winforms2.0-cil and libmono-webbrowser0.5-cil.
    + Install upstream changelog and debian news only in the mono-runtime
      package.
  * debian/cli-wrapper.c
    + Dropped as this wrapper is obsolete since mono 1.1.6-1.
  * debian/patches/kfreebsd_support.dpatch
    debian/patches/build_genxs_2.0.dpatch:
    + Updated to cleanly apply again.
  * debian/patches/fix_wsdl2_duplicate_keys_r117243.dpatch
    debian/patches/fix_NetworkInterface_exception_r120282.dpatch
    debian/patches/fix_TcpClient_IPv6_r122598.dpatch:
    + Dropped, already applied upstream.
  * debian/patches/armel_fix_configure_fpu_check.dpatch:
    + Only patch configure.in, autoreconf takes care of configure.
  * debian/patches/armel-glibc-2.8.dpatch:
    + Dropped, fixed upstream in a different way.
  * debian/patches/fix_NetworkInterface_endless_loop.dpatch:
    + Fix loop by setting next item. (Closes: #519480)
  * debian/libmono-system-web2.0-cil.install:
    + Added system.web.extensions_1.0.pc and
      system.web.extensions.design_1.0.pc.
  * debian/libmono2.0-cil.install:
    + Added mono.web.pc.
  * debian/control:
    debian/patches/99_autoreconf.dpatch:
    + Added autoconf to build-deps, as we autoreconf in debian/rules now.
    + Dropped autoreconf dpatch.
  * debian/control:
    + Updated Vcs-* fields for the migrated git repository.
    + Added new mono-csharp-shell package.
    + mono-devel recommends mono-csharp-shell now (very useful for
      debugging).
    + Added new libmono-management2.0-cil, libmono-messaging2.0-cil,
      libmono-simd2.0-cil and libmono-wcf3.0-cil packages.
    + Merged monodoc-base and monodoc-manual packages from the monodoc source
      package.
    + Dropped mono-smcs, libmono-corlib2.1-cil and libmono-system2.1-cil as
      those will be shipped by the moon source package.
    + Removed transition dependencies from libmono1.0-cil, libmono2.0-cil
      mono-devel, as the Mono 2.0 transition has been completed some weeks ago.
    + Renamed libmono-nunit2.2-cil to libmono-nunit2.4-cil and only ship a
      symlink to nunit.pc with a binary dependency on libnunit2.4-cil.
    + Added mono-complete metapackage to make ISVs and users installing
      non-Debian applications happy.
    + Changed Section of all packages to cli-mono except *-dbg to match
      archive overrides.
    + Added automake to build-deps needed for autoreconf.
  * debian/libmono-cairo1.0-cil.install
    debian/libmono-cairo2.0-cil.install
    debian/patches/fix-mono-cairo.pc.in.dpatch:
    + Moved mono-cairo.pc from libmono-cairo1.0-cil to libmono-cairo2.0-cil
      and reference the CLI 2.0 version in the pkg-config file now.
  * debian/mono-devel.install:
    + Added mono-cil-strip
    + Added getline.cs, mono-lineeditor.pc, Options.cs and mono-options.pc
    + Removed CorCompare.exe and mono-api-diff(.exe) as dropped by upstream.
    + Updated mono-shlib-cop and sqlsharp as they are now CLI 2.0
  * debian/patches/fix_recursive_unmanaged_types.dpatch:
    + Fixes recursive structs regression as seen with OpenOffice.org.
  * debian/copyright:
    + Added Lucene.Net, RabbitMQ.Client and HtmlAgilityPack licenses.
  * debian/patches/build_cecil_as_2.0.dpatch
    debian/patches/build_firebirdsql_as_2.0.dpatch
    debian/patches/build_permview_as_2.0.dpatch
    debian/patches/build_linker_tuner_cil-strip_as_2.0.dpatch:
    + Build Mono.Cecil, FirebirdSql.Data.Firebird, permview, tuner, linker and
      cil-strip for CLI 2.0.
  * debian/control
    debian/rules
    debian/mono-jt.*
    debian/mono-common.*
    debian/libmono0.*
    debian/mono-runtime.*:
    + Merged mono-jit, mono-common and libmono0 (except libmono.so.*)
      packages into mono-runtime. libmono0 was pulled in by
      libmono-system2.0-cil as it pinvokes libMonoPosixHelper.so for
      compression stream APIs. Since the interpreter (mint) was dropped long
      time ago and is unmainained upstream, there is no reason to keep those
      3 domains (VM, config / binfmt support, helper libraries) split.
    + Renamed mono-jit-dbg package to mono-runtime-dbg.
  * debian/shlibs.local:
    + Updated using the debian/update-shlibs.local.sh script.
  * debian/watch:
    + Mangle +dfsg version.
  * debian/control
    debian/libmono1.0-cil.install
    debian/libmono-cecil-private-cil.install:
    + Moved Mono.Cecil from libmono1.0-cil to libmono-cecil-private-cil, as
      it's now build for CLI 2.0.
  * debian/libmono-system-web2.0-cil.install:
    + Added System.ComponentModel.DataAnnotations, System.Web.Abstractions,
      System.Web.DynamicData and System.Web.Routing.
  * debian/control
    debian/libmono-i18n1.0-cil.install
    debian/libmono-i18n2.0-cil.install
    debian/libmono-i18n-west1.0-cil.install
    debian/libmono-i18n-west2.0-cil.install:
    + Moved I18N.dll and I18N.West.dll from libmono-i18nX.Y-cil to
      libmono-i18n-westX.Y-cil, as this is the only code page that is really
      needed in 90% of the cases.
  * debian/compat
    debian/control:
    + Bumped debhelper to 7.
  * debian/control
    debian/mono-1.0-devel.install
    debian/mono-2.0-devel.install
    debian/mono-devel.install:
    + Removed mono-api-info1 as dropped by upstream and moved
      2.0/mono-api-info.exe from mono-2.0-devel to mono-devel.
  * debian/control
    debian/libmono0.install
    debian/libmono-dev.install
    debian/mono-devel.install:
    + Moved dotnet.pc and dotnet35.pc from libmono-dev to mono-devel.
    + Removed libmono-profiler-*.a as unused and unneeded.
  * debian/mono-runtime.docs
    debian/changelog
    debian/changelog.1:
    + Moved all entries older than the version in lenny (1.9.1) to
      changelog.1
    + Install changelog.1 only in mono-runtime.

 -- Mirco Bauer <meebey@debian.org>  Thu, 21 May 2009 01:04:54 +0200

mono (2.0.1-6) unstable; urgency=low

  [ Jo Shields ]
  * debian/control:
    + Update package descriptions to make it clearer what is what, and
      avoid multiple packages with identical short descriptions
      (Closes: #519404)

  [ Sebastian Dröge ]
  * debian/patches/fix_null_funcptr_marshalling_r127347.dpatch:
    + Fix marshalling for NULL function pointers, they should be mapped
      to managed null delegates and vice versa. Patch from upstream SVN.

 -- Sebastian Dröge <slomo@debian.org>  Fri, 01 May 2009 13:37:07 +0200

mono (2.0.1-5) unstable; urgency=low

  * The "Let the show begin!" release
    + Upload to unstable starting the Mono 2.0 transition, status available at:
      http://wiki.debian.org/Teams/DebianMonoGroup/Mono20TransitionTODO
  * debian/control:
    + The compilers (mono-mcs and mono-gmcs) are not forward compatible with
      newer upstream versions, thus added stronger dependencies.
    + Removed libgamin-dev, libcups2-dev, librsvg2-dev, libgtk2.0-dev and
      libgnomeui-dev from build-deps-indep as those packages are only needed
      to generate the debian/shlibs.local file using the
      debian/update-shlibs.local.sh script (the script checks now if those
      are installed). This extended hack is needed as shared-mime-info in
      unstable conflicts with gnome < 2.24 and gnome 2.24 is blocked by
      the Mono 2.0 transition.
  * debian/shlibs.local:
    + Updated using the debian/update-shlibs.local.sh script.

 -- Mirco Bauer <meebey@debian.org>  Wed, 25 Feb 2009 00:10:02 +0100

mono (2.0.1-4) experimental; urgency=low

  * debian/rules:
    + Pass internal-mono instead of --internal-mono if the debhelper version
      is older than 7.1, as that one doesn't support custom parameters via
      init(). This ensures backwards compatibility with older debhelper
      versions, as found in Ubuntu.
  * debian/control:
    + Lowered debhelper build-dep to >= 5.
  * debian/dh_clideps
    debian/dh_makeclilibs:
    + Re-synced from cli-common 0.6.0, needed for dh 7.0 backwards
      compatibilty.

 -- Mirco Bauer <meebey@debian.org>  Tue, 27 Jan 2009 00:15:04 +0100

mono (2.0.1-3) experimental; urgency=low

  * Rebuilt against libc6 and glib from unstable.

 -- Mirco Bauer <meebey@debian.org>  Mon, 26 Jan 2009 22:49:05 +0100

mono (2.0.1-2) experimental; urgency=low

  [ Jo Shields ]
  * debian/patches/fix_wsdl2_duplicate_keys_r117243.dpatch:
    + Fix bug in wsdl2 preventing parsing of Amazon Web Services 
      wsdl file (thanks to Iain Lane <laney@ubuntu.com> for help
      isolating this bug)
  * debian/patches/fix_NetworkInterface_exception_r120282.dpatch:
    + Warn, rather than fail, on "funny" network interfaces
      (Closes: #507297)

  [ Mirco Bauer ]
  * debian/mono-1.0-devel.{postinst,prerm}
    debian/mono-mcs.{postinst,prerm}
    debian/mono-devel.{postinst,prerm}:
    + Moved update-alternatives calls to mono-devel.{postinst,prerm}.
  * debian/mono.links
    debian/mono.postinst
    + Removed, those are just left-overs.
  * debian/mono-jit.postinst:
    + Lowered alternative priority to 10 like all other alternative we install.
  * debian/control:
    + Moved cli-* Provides from mono-1.0-devel, mono-mcs and mono-gmcs to
      mono-devel, as thats where the cli-* alternatives now lives.
    + Added many strong versioned binary dependencies to mono-devel as hack
      to make experimental buildds happy, else everything needing
      mono-devel >= 2.0 will FTBFS in experimental (e.g. KDE4).
      (thanks goes to Modestas Vainius for the investigation)
    + Made dependency on libmono0, libmono-corlib2.0-cil and
      libmono-corlib1.0-cil strong for mono-utils to ensure that the correct
      versions are pulled in (else we might confuse APT or funny buildds).
    + Bumped debhelper build-dep to >= 7.1, as needed for the bundled
      debian/dh_* scripts.
  * debian/dh_clideps
    debian/dh_makeclilibs:
    + Synced from cli-common 0.6.0, needed for dh 7.1 support.

   [ David Paleino ]
   * debian/patches/fix_TcpClient_IPv6_r122598.dpatch:
     + Fix bug in TcpClient() implementation preventing IPv6 connections
       from working

 -- Mirco Bauer <meebey@debian.org>  Wed, 21 Jan 2009 23:39:02 +0100

mono (2.0.1-1) experimental; urgency=low

  [ Mirco Bauer ]
  * New upstream (bugfix) release.
  * debian/mono-1.0-devel.manpages:
    + Removed mcs1 as it's already shipped in mono-mcs.
  * debian/patches/99_autoreconf.dpatch:
    + Updated
  * debian/mono-devel.links:
    + Make csc a symlink to gmcs, a runtime version neutral default
      compiler.
  * debian/patches/armel_fix_configure_fpu_check.dpatch:
    + Forward ported patch from 1.2.4 to fix FTBFS on linux/armel.
  * debian/patches/99_autoreconf.dpatch:
    + Updated
  * debian/mono-common.install:
    + Name the /etc files and directories explicitly to make sure not to
      install /etc/mconfig by accident when doing a binary-indep binary-arch
      (in that order) build.

  [ Jo Shields ]
  * debian/patches/armel-glibc-2.8.dpatch:
    + Fix build failure on armel architecture on libc6 2.8 (Thanks
      to Michael Casadevall <sonicmctails@gmail.com> for the patch)

  [ David Paleino ]
  * Group Policy:
    + implemented get-orig-source target in debian/rules

 -- Mirco Bauer <meebey@debian.org>  Sun, 23 Nov 2008 16:16:00 +0100

mono (2.0-1) experimental; urgency=low

  * New upstream release.
    + System.Web.Extensions is included in the debian source and binary
      packages now, as JSON.NET was relicensed to MIT/X11 and thus no DFSGing
      needed anymore! (Closes: #497213)
    + With this release, we changed the default development stack from 1.0 to
      2.0. This has no influence to the runtime nor existing binary packages,
      for more details see:
      http://wiki.debian.org/Teams/DebianMonoGroup/Mono20Transition
  * debian/copyright:
    + Updated license info of JSON.NET
  * debian/control:
    + Removed libgda2-dev from buid-deps as debian/update-shlibs.local.sh
      takes already care of it.
    + mono-utils depends on libmono-corlib2.0-cil and only suggests
      libmono-corlib1.0-cil now as the default runtime was changed to 2.0.
    + Updated libcupsys2-dev build-dependency to libcups2-dev.
    + Updated Standards-Version to 3.8.0 (no changes needed).
  * debian/rules:
    + Pass --enable-quiet-build=no to configure call, else we get a less
      verbose build log.
    + Bumped clilibs to 2.0 of libmono{1,2}.0-cil, libmono-cairo{1,2}.0-cil,
      libmono-data-tds{1,2}.0-cil, libmono-system2.0-cil,
      libmono-system-runtime2.0-cil, libmono-security{1,2}.0-cil,
      libmono-web2.0-cil, libmono-winforms2.0-cil and libmono-system2.1-cil.
  * debian/mono.runtime-script:
    + Call the script of gacutil instead of passing the application filename
      directly to mono, as we rely on the default gacutil now provided by the
      mono-gac package.
  * debian/patches/method-signature-testing.dpatch
    debian/patches/pass_CPPFLAGS_nicely_r98803.dpatch
    debian/patches/fix_bound_checking_r98524_r98527.dpatch
    debian/patches/fix_softfloat_r105848.dpatch
    debian/patches/fix_stack_alignment_r105650_r105651.dpatch
    debian/patches/fix_xen_support_r103474_r103475.dpatch
    debian/patches/fix_Dictionary_preventing_GC_r102114.dpatch
    debian/patches/fix_TdsConnectionPool_svn.dpatch
    debian/patches/fix_Assembly.LoadFrom_deadlock.dpatch:
    + Removed, already applied upstream.
  * debian/patches/dont_build_System.Web.Extensions.dpatch:
    + Disabled, JSON.NET was re-licensed to MIT/X11.
  * debian/libmono-system-web2.0-cil.install:
    + Added System.Web.Extensions.dll and System.Web.Extensions.Design.dll.
  * debian/update-shlibs.local.sh:
    + Fixed grep calls so it doesn't match udeb lines.
  * debian/shlibs.local:
    + Updated
  * debian/control
    debian/libmono-mozilla0.2-cil.install
    debian/libmono-webbrowser0.5-cil.install:
    + Renamed libmono-mozilla0.2-cil to libmono-webbrowser0.5-cil and
      removed Replaces.
  * debian/control
    debian/libmono{1,2}.0-cil.install
    debian/libmono-posix{1,2}.0-cil.install:
    debian/libmono-getoptions{1,2}.0-cil.install:
    debian/libmono-data{1,2}.0-cil.install:
    + Moved the Mono.Posix, Mono.GetOptions and Mono.Data.* libraries into
      extra packages to support smaller install sizes of typical applications
      (e.g. tomboy or gnome-do).
    + Added libmono-posix{1,2}.0-cil, libmono-getoptions{1,2}.0-cil and
      libmono-data{1,2}.0-cil as dependency of libmono{1,2}-cil to aid a smooth
      runtime transition.
  * debian/libmono-system-data2.0-cil.install:
    + Added System.Data.DataSetExtensions.dll and System.Data.Linq.dll.
  * debian/rules
    debian/libmono{1,2}.0-cil.install:
    + Dropped Mono.Security.Win32.dll as the library is only useful on
      Windows.
  * debian/patches/build_genxs_2.0.dpatch:
    + Enables compiling genxs for CLI 2.0 as upstream provided a genxs2 script
      but forgot to build the actual application.
  * debian/mono-2.0-devel.install
    debian/mono-2.0-devel.manpages:
    + Added xsd2 and genxs2
  * debian/mono-devel.install
    debian/mono-devel.manpages
    debian/mono-1.0-devel.install
    debian/mono-1.0-devel.manpages:
    + Moved all unversioned tools and default scripts (with their manpages) to
      mono-devel.
  * debian/mono-mcs.install
    debian/mono-mcs.manpages
    debian/mono-gmcs.install
    debian/mono-gmcs.manpages
    debian/mono-devel.install
    debian/mono-devel.manpages
    debian/control:
    + Moved gmcs script and manpage from mono-gmcs to mono-devel.
    + Added Replaces for mono-mcs and mono-gmcs to mono-devel.
    + Added gmcs2 script and manpage to mono-gmcs
    + Added mcs1 script and manpage to mono-mcs.
      This changes are needed to get a default compiler target using a single
      package that depends on the current default which is 2.0 (gmcs2).
  * debian/System.Windows.Forms.dll.config:
    + Added dll-map for libgdk_pixbuf-2.0.so
  * debian/control:
    + Improved many package descriptions by adding the names of the
      libraries they contain with a brief description of what they do.
  * debian/control
    debian/mono-gac.install
    debian/mono-{1,2}.0-gac.install:
    + The default script "gacutil" is still shipped in mono-gac but
      "gacutil1" and "gacutil2" are now in mono-1.0-gac and mono-2.0-gac.
      mono-gac pulls in mono-2.0-gac by default.
      This is needed to make a 2.0-only install possible.
  * debian/control:
    + Added mono-1.0-runtime and mono-2.0-runtime package, which pull in the
      runtime stack of the specific runtime version in.
      mono-runtime pulls in mono-2.0-runtime as the new default runtime.
      This is needed to make a 2.0-only install possible.
  * debian/libmono-dev.install:
    + Added dotnet35.pc
  * debian/mono-smcs.install:
    + Added smcs.pc
  * debian/control:
    + s/meta package/metapackage/ as lintian says so.

 -- Mirco Bauer <meebey@debian.org>  Tue, 11 Nov 2008 00:21:27 +0100
